### Parser Module Setup

- [ ] Create parser module directory structure within `server/src/`:
  ```bash
  # (Assuming already in server directory from Sprint 0)
  mkdir -p src/parser src/parser/utils src/parser/__tests__/fixtures src/parser/types
  ```

- [ ] Install parser-specific dependencies in the `server/` directory:
  ```bash
  npm install mammoth cheerio compromise natural slugify
  npm install -D @types/cheerio @types/natural # (if available for natural version used)
  ```
  *   `mammoth`: DOCX to HTML conversion.
  *   `cheerio`: Server-side jQuery-like HTML parsing and traversal.
  *   `compromise`: Natural Language Processing (NLP) for entity extraction.
  *   `natural`: NLP tools, including TF-IDF and tokenizers.
  *   `slugify`: For generating URL-friendly slugs (re-confirming from Sprint 0).

- [ ] Define core parser types in `server/src/parser/types/index.ts`:
  ```typescript
  // server/src/parser/types/index.ts
  export interface CareerSection {
    title: string;
    content: string;
    displayOrder: number;
    section_type?: string; // e.g., 'standard', 'MISCELLANEOUS', or specific like 'CAREER_SNAPSHOT'
  }

  export interface CareerTag {
    name: string;
    category: string; // e.g., 'skill', 'technology', 'industry'
    relevanceScore: number;
  }

  export interface ParsedCareer {
    title: string;
    slug: string;
    snapshot: string; // Derived from a specific section or early content
    overview: string; // Content before the first recognized section or from a specific "Role Overview"
    sections: CareerSection[];
    tags: CareerTag[];
    rawHtml?: string; // Optional: for debugging the HTML output from Mammoth
    quality_score?: number; // Optional: heuristic score for parsing quality (0.0-1.0)
    parsing_notes?: string[]; // Optional: notes/warnings from the parsing process
    template_version?: string; // Optional: detected version of the DOCX template
  }

  export interface ParserOptions {
    extractRawHtml?: boolean;
    // Mappings for different DOCX template versions/styles
    sectionMappings?: Record<string, string>; // e.g., { "Job Summary": "CAREER_SNAPSHOT" }
    templateVersion?: string;
    versionSpecificMappings?: Record<string, Record<string, string>>;
    defaultSectionTitle?: string; // Title for unmatched sections
    taxonomyPath?: string; // Path to a custom taxonomy JSON file
  }
  ```